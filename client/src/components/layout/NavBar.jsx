import React, { useState } from 'react';
import { Link, useNavigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';

const NavBar = () => {
    const { user, logout } = useAuth() || {};
    const [isOpen, setIsOpen] = useState(false);
    const navigate = useNavigate();
    const location = useLocation();

    const handleLogout = () => {
        if (logout) {
            logout();
            navigate('/');
        }
        setIsOpen(false);
    };
    
    // ðŸš¨ FUNCTION TO HANDLE SCROLL OR NAVIGATION
    const handleEventsClick = (isMobile = false) => {
        setIsOpen(false); 
        
        const targetId = 'opportunities-awaiting';

        if (location.pathname === '/') {
            // If already on the homepage, scroll directly
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth' });
            }
        } else {
            // If on a different page, navigate to the homepage with the hash
            navigate(`/#${targetId}`);
        }
    };
    
    const dashboardPath = user?.role === 'volunteer' ? '/dashboard/volunteer' : 
                          user?.role === 'ngo' ? '/dashboard/ngo' : null;

    const desktopLinkStyle = "text-gray-700 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition duration-150";
    const mobileLinkStyle = "block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition duration-150";
    
return (
    <nav className="bg-white shadow-lg sticky top-0 z-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div className="flex justify-between items-center h-16">
                <div className="flex-shrink-0">
                    <Link to="/" className="flex items-center text-xl font-extrabold text-indigo-600 hover:text-indigo-700">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path d="m16.023 0.219 0.123 0.036C17.227 0.587 18.161 1.129 18.977 1.914l0.121 0.117c0.158 0.155 0.305 0.306 0.439 0.481 0.16 0.194 0.351 0.308 0.567 0.431l0.111 0.065c0.246 0.144 0.431 0.224 0.715 0.23 2.169 0.06 3.876 0.769 5.385 2.357C27.652 7.106 28.103 9.021 28 10.992c-0.064 0.754 -0.304 1.461 -0.615 2.146 -0.239 0.547 -0.261 1.027 -0.049 1.586 0.054 0.125 0.109 0.249 0.165 0.373 0.305 0.698 0.506 1.417 0.506 2.184l0 0.218 0 0.113c0 0.112 0 0.223 0 0.335 0 0.404 -0.014 0.803 -0.056 1.206 -0.006 0.154 0.015 0.276 0.048 0.425 0.1 1.211 0.1 1.211 -0.273 1.695l-0.082 0.116c-0.292 0.372 -0.692 0.597 -1.107 0.81 -0.192 0.122 -0.304 0.25 -0.449 0.423C25.392 23.416 24.496 23.966 23.516 24.336l-0.172 0.066c-0.613 0.211 -1.308 0.325 -1.957 0.318 -0.71 -0.006 -1.209 0.191 -1.753 0.655 -0.184 0.181 -0.344 0.379 -0.504 0.581C18.395 26.872 17.136 27.476 16.023 27.781l-0.112 0.032c-1.222 0.342 -2.719 0.328 -3.934 -0.032l-0.118 -0.034c-1 -0.294 -1.914 -0.804 -2.687 -1.501 -0.198 -0.141 -0.406 -0.214 -0.633 -0.297 -0.441 -0.169 -0.86 -0.365 -1.278 -0.584l-0.158 -0.083c-0.223 -0.119 -0.438 -0.239 -0.646 -0.383 -0.264 -0.168 -0.546 -0.206 -0.85 -0.258 -1.723 -0.329 -3.29 -1.278 -4.316 -2.728C0.215 20.324 -0.288 18.409 0.065 16.499c0.059 -0.275 0.136 -0.519 0.24 -0.781 0.177 -0.497 0.176 -0.994 0.172 -1.516 -0.001 -0.16 0.001 -0.319 0.004 -0.479 0.003 -0.673 -0.109 -1.224 -0.334 -1.856C-0.025 11.357 -0.021 10.814 -0.021 10.281l0 -0.112C-0.014 8.567 0.504 6.952 1.586 5.742l0.115 -0.135c0.992 -1.139 2.338 -2.011 3.858 -2.213 0.448 -0.061 0.756 -0.161 1.135 -0.421 0.24 -0.164 0.496 -0.299 0.753 -0.434l0.149 -0.079c0.314 -0.162 0.629 -0.293 0.962 -0.41 0.367 -0.131 0.623 -0.298 0.909 -0.56C11.12 -0.01 13.928 -0.408 16.023 0.219" fill="#353636"/><path d="M11.813 15.203c0.274 0.179 0.518 0.388 0.766 0.602q0.101 0.085 0.202 0.17a41.344 41.344 0 0 1 0.479 0.412 36.148 36.148 0 0 0 0.228 0.197c0.233 0.202 0.44 0.412 0.641 0.647 0.762 0.889 1.829 1.482 2.927 1.855l0.136 0.046c0.621 0.198 1.245 0.244 1.894 0.242 0.071 0 0.142 0 0.216 0q0.225 0 0.45 -0.001c0.188 -0.001 0.376 0 0.563 0 2.651 0.109 2.651 0.109 5.015 -0.835 0.167 -0.187 0.311 -0.38 0.429 -0.602 0.553 0.129 0.998 0.391 1.313 0.875 0.281 0.579 0.459 1.189 0.293 1.833 -0.052 0.112 -0.108 0.202 -0.183 0.3l-0.073 0.096c-1.128 1.279 -3.637 1.586 -5.236 1.738 -0.135 0.013 -0.271 0.026 -0.406 0.04 -0.752 0.077 -1.494 0.108 -2.25 0.098 -0.177 -0.002 -0.354 -0.003 -0.531 -0.005 -0.502 -0.003 -1.004 -0.007 -1.506 -0.013 -0.31 -0.004 -0.62 -0.006 -0.93 -0.007a38.5 38.5 0 0 1 -0.35 -0.004c-0.918 -0.014 -1.611 0.131 -2.453 0.512 -1.033 0.405 -2.118 0.142 -3.141 -0.158 -0.302 -0.088 -0.607 -0.168 -0.911 -0.249l-0.351 -0.095a53.047 53.047 0 0 0 -0.702 -0.184l-0.173 -0.044q-0.161 -0.041 -0.321 -0.081c-0.316 -0.081 -0.617 -0.169 -0.897 -0.341 -0.1 -0.171 -0.091 -0.348 -0.058 -0.537 0.079 -0.137 0.079 -0.137 0.219 -0.219 0.432 -0.059 0.818 0.084 1.223 0.216 0.294 0.091 0.499 0.129 0.801 0.057v-0.383c-0.533 -0.174 -1.073 -0.318 -1.615 -0.462 -0.275 -0.073 -0.55 -0.147 -0.824 -0.226l-0.129 -0.037c-0.185 -0.068 -0.277 -0.152 -0.385 -0.314 -0.041 -0.157 -0.044 -0.281 0 -0.438 0.169 -0.207 0.169 -0.207 0.328 -0.273 0.327 0.021 0.637 0.096 0.954 0.178l0.143 0.036c0.39 0.1 0.776 0.21 1.162 0.327 0.421 0.145 0.421 0.145 0.859 0.17 0.129 -0.104 0.129 -0.104 0.116 -0.28L9.734 19.906a20.672 20.672 0 0 0 -1.029 -0.321l-0.15 -0.043c-0.384 -0.109 -0.77 -0.206 -1.158 -0.301 -0.378 -0.093 -0.752 -0.2 -1.125 -0.313a11.922 11.922 0 0 0 -0.412 -0.116c-0.214 -0.067 -0.282 -0.134 -0.392 -0.328 -0.036 -0.217 -0.02 -0.298 0.103 -0.482 0.168 -0.173 0.168 -0.173 0.323 -0.177 0.347 0.027 0.668 0.116 1 0.218 0.302 0.092 0.606 0.172 0.913 0.247a29.313 29.313 0 0 1 1.166 0.311l0.146 0.042c0.198 0.057 0.396 0.115 0.593 0.174l0.159 0.047 0.128 0.039c0.144 0.023 0.252 0.003 0.391 -0.036 0.074 -0.062 0.074 -0.062 0.058 -0.222L10.445 18.484c-0.604 -0.212 -1.225 -0.371 -1.843 -0.534l-0.191 -0.051q-0.187 -0.05 -0.375 -0.098c-0.757 -0.201 -0.757 -0.201 -0.978 -0.393 -0.087 -0.189 -0.099 -0.363 -0.058 -0.564 0.109 -0.164 0.109 -0.164 0.273 -0.273 0.404 -0.038 0.77 0.069 1.159 0.171l0.206 0.053c0.445 0.115 0.887 0.238 1.328 0.366 0.376 0.109 0.753 0.209 1.132 0.306l0.168 0.044c0.378 0.098 0.378 0.098 0.765 0.1 0.126 -0.101 0.126 -0.101 0.116 -0.256 -0.076 -0.225 -0.177 -0.297 -0.357 -0.445 -0.18 -0.15 -0.352 -0.306 -0.522 -0.468l-0.096 -0.086c-0.212 -0.204 -0.276 -0.363 -0.299 -0.655 0.015 -0.193 0.101 -0.301 0.227 -0.441 0.241 -0.144 0.45 -0.148 0.711 -0.055" fill="#FADDC9"/><path d="M16.242 5.305c0.16 0.098 0.245 0.161 0.328 0.328 0.03 0.245 0.026 0.439 -0.082 0.663 -0.14 0.161 -0.286 0.294 -0.448 0.431a11.648 11.648 0 0 0 -0.427 0.389l-0.142 0.134c-0.115 0.125 -0.115 0.125 -0.126 0.279 0.011 0.137 0.011 0.137 0.132 0.236 0.346 0.013 0.688 -0.102 1.015 -0.202a26.578 26.578 0 0 1 1.271 -0.342c0.521 -0.127 1.034 -0.271 1.545 -0.431 0.649 -0.197 0.649 -0.197 0.97 -0.048C20.398 6.836 20.398 6.836 20.508 7c0.024 0.219 0.029 0.339 -0.093 0.526 -0.139 0.145 -0.214 0.182 -0.406 0.233l-0.189 0.053L19.578 7.875l-0.328 0.089c-0.466 0.126 -0.932 0.252 -1.399 0.373l-0.266 0.071 -0.121 0.031c-0.267 0.069 -0.267 0.069 -0.456 0.256 0.013 0.181 0.013 0.181 0.109 0.328 0.348 -0.026 0.675 -0.09 1.012 -0.178l0.144 -0.037c0.338 -0.087 0.673 -0.183 1.007 -0.284 0.351 -0.105 0.705 -0.194 1.061 -0.281a16.953 16.953 0 0 0 0.731 -0.195c0.291 -0.079 0.521 -0.125 0.8 0.017 0.128 0.155 0.145 0.26 0.149 0.459 -0.058 0.184 -0.163 0.267 -0.31 0.388 -0.137 0.056 -0.258 0.097 -0.4 0.133l-0.121 0.033c-0.409 0.111 -0.82 0.211 -1.232 0.313A35.328 35.328 0 0 0 17.773 10.008c-0.037 0.159 -0.037 0.159 -0.055 0.328 0.103 0.126 0.103 0.126 0.275 0.125 0.264 -0.019 0.495 -0.085 0.747 -0.163a26.961 26.961 0 0 1 1.372 -0.369c0.231 -0.053 0.231 -0.053 0.45 -0.14 0.475 -0.023 0.475 -0.023 0.656 0.109 0.136 0.204 0.134 0.305 0.109 0.547 -0.136 0.226 -0.261 0.309 -0.516 0.375l-0.12 0.028 -0.263 0.067 -0.146 0.036c-0.305 0.077 -0.608 0.16 -0.911 0.242l-0.185 0.049 -0.176 0.047 -0.156 0.042c-0.162 0.046 -0.321 0.098 -0.48 0.153 -0.037 0.159 -0.037 0.159 -0.055 0.328 0.096 0.12 0.096 0.12 0.211 0.116 0.295 -0.031 0.574 -0.091 0.859 -0.17 0.768 -0.214 0.768 -0.214 1.015 -0.12C20.508 11.703 20.508 11.703 20.617 11.867c0.018 0.21 0.028 0.381 -0.109 0.547 -0.294 0.121 -0.588 0.21 -0.896 0.287l-0.276 0.071 -0.149 0.038c-0.285 0.074 -0.57 0.152 -0.854 0.229 -0.616 0.166 -1.233 0.331 -1.852 0.489a21.711 21.711 0 0 0 -0.336 0.091c-0.997 0.262 -1.876 0.05 -2.798 -0.36 -0.473 -0.207 -0.908 -0.261 -1.422 -0.254l-0.153 0c-0.237 0.002 -0.469 0.011 -0.704 0.038 -0.31 0.032 -0.617 0.036 -0.928 0.037l-0.18 0.001q-0.287 0.001 -0.574 0l-0.198 0c-0.952 -0.001 -1.897 -0.012 -2.844 -0.12l-0.193 -0.021c-4.256 -0.489 -4.256 -0.489 -5.409 -1.936 -0.26 -0.419 -0.179 -0.983 -0.083 -1.444C0.837 8.946 1.191 8.514 1.75 8.203h0.164l0.128 0.315c0.242 0.327 0.633 0.448 1.013 0.539l0.137 0.034c1.448 0.352 2.943 0.434 4.429 0.437 0.168 0.001 0.336 0.002 0.505 0.004 0.823 0.004 1.62 -0.045 2.395 -0.349l0.129 -0.049c1.26 -0.498 2.219 -1.268 3.163 -2.224 0.273 -0.276 0.551 -0.534 0.857 -0.775 0.213 -0.169 0.419 -0.346 0.626 -0.523 0.325 -0.277 0.521 -0.365 0.948 -0.308" fill="#FADCC9"/><path d="M1.148 12.141c0.239 0.092 0.469 0.199 0.701 0.308l0.115 0.054Q2.103 12.567 2.242 12.633l-0.008 0.146c-0.017 0.56 0.043 1.011 0.397 1.46 0.381 0.401 0.844 0.525 1.377 0.543 0.384 0.022 0.611 0.066 0.891 0.343 0.332 0.388 0.484 0.91 0.474 1.416 -0.029 0.273 -0.118 0.53 -0.203 0.791l-0.054 0.172c-0.129 0.409 -0.129 0.409 -0.196 0.542 -0.022 0.321 -0.002 0.593 0.164 0.875 0.201 0.225 0.435 0.371 0.711 0.492l-0.082 0.147c-0.129 0.303 -0.119 0.624 -0.082 0.947 0.149 0.322 0.401 0.545 0.731 0.673L6.508 21.219c-0.103 0.26 -0.103 0.26 -0.164 0.383 -0.039 0.383 -0.024 0.727 0.219 1.039 0.193 0.173 0.351 0.258 0.601 0.324l0.194 0.053 0.207 0.054 0.214 0.057c0.494 0.132 0.991 0.256 1.488 0.378 0.409 0.101 0.814 0.213 1.218 0.332 0.133 0.039 0.266 0.077 0.399 0.114l0.154 0.045c0.414 0.114 0.802 0.149 1.231 0.146l0.196 -0.001c0.509 -0.01 0.905 -0.092 1.372 -0.3q0.191 -0.074 0.383 -0.147l0.164 -0.066c0.352 -0.131 0.652 -0.186 1.025 -0.182l0.14 0c0.153 0 0.305 0.001 0.458 0.003l0.323 0.001q0.426 0.001 0.851 0.004 0.756 0.004 1.512 0.006l0.163 0.001c0.826 0.002 1.649 -0.01 2.473 -0.057 -0.484 0.493 -1.099 0.859 -1.695 1.203l-0.111 0.064c-1.816 1.033 -3.93 1.588 -6.017 1.587l-0.213 0A10.637 10.637 0 0 1 11.758 26.141l-0.188 -0.018c-1.042 -0.106 -2.083 -0.435 -3.038 -0.857l-0.139 -0.061c-0.893 -0.399 -1.709 -0.875 -2.486 -1.47l-0.135 -0.103C4.492 22.632 3.439 21.419 2.625 20.016l-0.058 -0.099c-1.05 -1.811 -1.539 -3.897 -1.538 -5.978l0 -0.113c0 -0.569 0.026 -1.124 0.12 -1.685" fill="#2C97D9"/><path d="m15.285 1.873 0.111 0.017C17.847 2.272 19.949 3.392 21.82 4.977c-0.06 0.333 -0.319 0.517 -0.583 0.706 -0.697 0.454 -0.697 0.454 -1.157 0.436 -0.441 -0.01 -0.818 0.112 -1.236 0.239 -0.261 0.077 -0.524 0.144 -0.788 0.213l-0.162 0.042c-0.385 0.1 -0.772 0.194 -1.161 0.279l0.07 -0.104 0.091 -0.135 0.09 -0.135c0.137 -0.21 0.142 -0.345 0.145 -0.597l0.004 -0.201c-0.024 -0.256 -0.1 -0.432 -0.272 -0.624l-0.094 -0.078 -0.094 -0.079C16.339 4.71 15.979 4.714 15.586 4.758c-0.175 0.059 -0.297 0.155 -0.438 0.273l-0.163 0.135a27.016 27.016 0 0 0 -0.367 0.312c-0.161 0.139 -0.326 0.274 -0.492 0.408 -0.544 0.444 -0.544 0.444 -1.029 0.95 -0.72 0.846 -1.921 1.693 -3.035 1.914l-0.164 -0.055 0.106 -0.154c0.167 -0.258 0.197 -0.474 0.167 -0.776 -0.178 -0.587 -0.705 -1.018 -1.213 -1.331 -0.475 -0.302 -0.642 -0.866 -0.838 -1.369 -0.184 -0.443 -0.396 -0.707 -0.841 -0.902 -0.272 -0.102 -0.541 -0.173 -0.827 -0.226 1.114 -1.242 3.411 -1.789 4.987 -2.061l0.114 -0.02c1.229 -0.199 2.504 -0.173 3.731 0.016" fill="#51A3E1"/><path d="M20.563 3.227c2.257 0.049 3.986 0.6 5.614 2.223 1.341 1.411 1.875 3.269 1.839 5.175 -0.03 0.894 -0.262 1.701 -0.631 2.513 -0.239 0.547 -0.261 1.027 -0.049 1.586 0.054 0.125 0.109 0.249 0.165 0.373 0.359 0.821 0.509 1.625 0.509 2.521 0 0.113 0.001 0.226 0.002 0.338 0.002 0.424 -0.025 0.825 -0.122 1.238 -0.104 -0.156 -0.18 -0.309 -0.26 -0.479 -0.359 -0.714 -0.905 -1.065 -1.654 -1.326 0.071 -0.494 0.158 -0.984 0.251 -1.474 0.115 -0.616 0.147 -1.222 0.149 -1.848l0 -0.122c0 -1.14 -0.115 -2.299 -0.455 -3.392l-0.039 -0.129C25.137 7.978 23.685 5.684 21.656 4.102l-0.089 -0.07c-0.282 -0.22 -0.564 -0.439 -0.857 -0.644L20.563 3.281z" fill="#D8FAFE"/><path d="M22.258 5.469c0.255 0.209 0.484 0.425 0.697 0.677l0.085 0.1C24.027 7.428 24.77 8.826 25.266 10.281l0.059 0.171c0.274 0.872 0.425 1.817 0.488 2.728l0.013 0.165c0.076 1.108 0.076 1.108 -0.119 1.405 -0.138 0.148 -0.283 0.271 -0.44 0.398a7.602 7.602 0 0 0 -0.246 0.304c-0.271 0.347 -0.271 0.347 -0.434 0.373C24.445 15.805 24.445 15.805 24.359 15.711c-0.083 -0.133 -0.119 -0.241 -0.154 -0.394l-0.039 -0.156q-0.038 -0.161 -0.076 -0.322c-0.114 -0.455 -0.294 -0.786 -0.684 -1.057 -0.265 -0.137 -0.536 -0.129 -0.827 -0.131 -0.269 -0.009 -0.406 -0.061 -0.595 -0.252l-0.099 -0.157c-0.154 -0.22 -0.339 -0.347 -0.557 -0.499a35.93 35.93 0 0 1 -0.219 -0.164l0.027 -0.103c0.065 -0.407 0.055 -0.733 -0.137 -1.101l0.098 -0.048C21.46 11.139 21.713 10.942 21.875 10.555c0.054 -0.406 -0.009 -0.692 -0.219 -1.039q0.118 -0.053 0.236 -0.106l0.133 -0.06C22.148 9.297 22.148 9.297 22.313 9.242c0.062 -0.097 0.062 -0.097 0.109 -0.219l0.057 -0.124c0.103 -0.29 0.107 -0.631 0.015 -0.925 -0.132 -0.255 -0.335 -0.424 -0.608 -0.514 -0.156 -0.028 -0.304 -0.027 -0.462 -0.025l-0.179 0.001L21.109 7.438l-0.02 -0.134 -0.028 -0.177 -0.027 -0.175c-0.032 -0.159 -0.079 -0.295 -0.144 -0.444l0.112 -0.056c0.489 -0.255 0.918 -0.541 1.255 -0.983" fill="#B7E087"/><path d="M20.891 13.125c0.267 0.144 0.457 0.346 0.649 0.578 0.223 0.256 0.443 0.424 0.772 0.516 0.185 0.009 0.366 0.004 0.551 -0.003 0.16 0.003 0.16 0.003 0.355 0.078 0.315 0.339 0.392 0.812 0.485 1.253 0.071 0.314 0.183 0.554 0.448 0.743 0.312 0.104 0.598 0.12 0.902 -0.014 0.227 -0.208 0.41 -0.445 0.595 -0.69 0.056 0.169 0.055 0.219 0.022 0.387l-0.026 0.134c-0.051 0.246 -0.104 0.492 -0.16 0.738l-0.03 0.133C25.333 17.512 25.187 17.985 24.719 18.32c-0.367 0.186 -0.729 0.263 -1.135 0.308l-0.165 0.02c-0.168 0.02 -0.337 0.038 -0.505 0.056l-0.155 0.017c-1.066 0.112 -2.132 0.152 -3.203 0.157q-0.131 0.001 -0.262 0.002c-0.123 0.001 -0.246 0.001 -0.369 0.001l-0.217 0.001C18.539 18.867 18.539 18.867 18.43 18.758l0.082 -0.063c0.955 -0.774 1.42 -2.371 1.549 -3.561 0.011 -0.175 0.009 -0.347 0.005 -0.521l-0.004 -0.2a33.742 33.742 0 0 0 -0.013 -0.411c-0.01 -0.558 -0.01 -0.558 0.152 -0.757 0.232 -0.196 0.401 -0.201 0.69 -0.12" fill="#51A3E0"/><path d="m6.125 4.43 0.17 0.031C6.855 4.574 7.27 4.714 7.602 5.195c0.098 0.198 0.176 0.402 0.253 0.608 0.181 0.478 0.317 0.796 0.766 1.073 0.375 0.242 0.754 0.513 1.005 0.889 0.031 0.233 -0.001 0.376 -0.142 0.566 -0.53 0.621 -0.53 0.621 -0.922 0.652q-0.114 0.002 -0.228 0.001l-0.126 0.001c-0.137 0.001 -0.274 0 -0.411 0l-0.143 0C3.987 8.973 3.987 8.973 2.57 8.313l-0.055 -0.109a5.031 5.031 0 0 1 0.202 -0.39l0.067 -0.118C3.042 7.254 3.346 6.852 3.664 6.453l0.074 -0.093C4.165 5.824 4.644 5.339 5.141 4.867l0.085 -0.081c0.282 -0.263 0.5 -0.438 0.899 -0.356" fill="#B7E187"/><path d="M2.789 12.852q0.145 0.031 0.291 0.062l0.212 0.045c0.2 0.043 0.398 0.089 0.597 0.136 0.816 0.19 1.621 0.334 2.456 0.414l0.16 0.016c0.695 0.068 1.385 0.096 2.084 0.1l0.192 0.002c0.321 0.003 0.642 0.004 0.963 0.003q0.18 0.001 0.36 0.003l0.166 -0.003c0.401 0.006 0.633 0.121 0.942 0.371l0.157 0.116c0.113 0.1 0.2 0.194 0.28 0.321v0.109l-0.12 0.016c-0.498 0.077 -0.785 0.234 -1.083 0.64 -0.148 0.253 -0.151 0.536 -0.109 0.82 0.105 0.283 0.252 0.528 0.438 0.766 -0.558 -0.125 -1.112 -0.265 -1.665 -0.414l-0.18 -0.049c-0.268 -0.073 -0.535 -0.148 -0.8 -0.232 -0.358 -0.108 -0.741 -0.155 -1.099 -0.022 -0.24 0.139 -0.402 0.299 -0.521 0.552 -0.048 0.217 -0.082 0.435 -0.109 0.656l-0.602 -0.055 0.055 -0.27c0.121 -0.699 0.008 -1.37 -0.376 -1.979C5.227 14.644 4.942 14.399 4.539 14.273c-0.211 -0.021 -0.211 -0.021 -0.427 -0.021 -0.457 -0.016 -0.803 -0.116 -1.131 -0.444 -0.196 -0.327 -0.205 -0.582 -0.191 -0.957" fill="#B6E087"/><path d="M21.328 23.406c-0.476 0.499 -1.105 0.854 -1.695 1.203l-0.185 0.117c-0.579 0.352 -1.175 0.448 -1.839 0.539l-0.187 0.029c-0.532 0.079 -1.051 0.1 -1.587 0.097l-0.13 0c-2.084 -0.009 -3.991 -0.538 -5.851 -1.452l-0.112 -0.055c-0.175 -0.088 -0.311 -0.172 -0.445 -0.315 0.312 0.054 0.615 0.127 0.919 0.216 1.205 0.349 2.429 0.588 3.62 0.058q0.191 -0.074 0.383 -0.147l0.164 -0.066c0.355 -0.132 0.658 -0.186 1.033 -0.182l0.143 0c0.155 0 0.311 0.001 0.466 0.003l0.327 0.001q0.43 0.001 0.86 0.004 0.686 0.003 1.371 0.005 0.238 0.001 0.475 0.002c0.516 0.002 1.026 -0.007 1.54 -0.046 0.243 -0.016 0.486 -0.018 0.73 -0.012" fill="#51A2E0"/><path d="M19.469 13.344c0.186 1.533 -0.034 3.238 -0.93 4.539 -0.247 0.31 -0.544 0.555 -0.944 0.622 -0.294 0.015 -0.528 -0.041 -0.751 -0.239 -0.223 -0.293 -0.279 -0.568 -0.283 -0.927 -0.019 -1.048 -0.112 -1.855 -0.613 -2.784C15.859 14.383 15.859 14.383 15.859 14.273l0.094 -0.024c0.627 -0.161 1.252 -0.327 1.875 -0.502 0.813 -0.229 0.813 -0.229 1.142 -0.318l0.188 -0.051C19.305 13.344 19.305 13.344 19.469 13.344" fill="#B7E087"/><path d="m0.438 15.258 0.109 0.055c0.024 0.098 0.024 0.098 0.039 0.226 0.009 0.071 0.009 0.071 0.018 0.143l0.018 0.154c0.327 2.444 1.412 4.826 3.097 6.633 0.098 0.106 0.191 0.215 0.283 0.326 0.582 0.663 1.304 1.302 2.068 1.746L6.18 24.609v0.109c-1.924 -0.243 -3.527 -1.097 -4.758 -2.625C0.256 20.537 -0.197 18.655 0.028 16.732 0.102 16.223 0.26 15.739 0.438 15.258" fill="#D8F9FD"/><path d="M11.813 15.203c0.273 0.18 0.518 0.388 0.766 0.602q0.101 0.085 0.202 0.17a41.344 41.344 0 0 1 0.479 0.412 36.148 36.148 0 0 0 0.228 0.197c0.233 0.202 0.44 0.412 0.641 0.647 0.762 0.889 1.829 1.482 2.927 1.855l0.136 0.046c0.621 0.198 1.245 0.244 1.894 0.242 0.071 0 0.142 0 0.216 0q0.225 0 0.45 -0.001c0.188 -0.001 0.376 0 0.563 0 2.651 0.109 2.651 0.109 5.015 -0.835 0.167 -0.187 0.311 -0.38 0.429 -0.602l0.547 0.164c-0.104 0.518 -0.517 0.892 -0.93 1.203 -0.88 0.578 -2.049 0.573 -3.063 0.656l-0.156 0.014c-0.44 0.037 -0.878 0.05 -1.319 0.052l-0.214 0.001q-0.223 0.001 -0.446 0.001 -0.225 0 -0.451 0.002c-2.061 0.017 -2.061 0.017 -3.023 -0.378l-0.145 -0.058c-1.308 -0.533 -2.579 -1.394 -3.475 -2.499 -0.226 -0.268 -0.506 -0.473 -0.779 -0.69l-0.297 -0.249c-0.267 -0.22 -0.544 -0.404 -0.838 -0.586L11.047 15.477v-0.164c0.232 -0.21 0.484 -0.215 0.766 -0.109" fill="#F6CAAD"/><path d="m15.965 5.284 0.142 -0.005c0.176 0.033 0.24 0.11 0.354 0.244l-0.142 0.11c-0.39 0.303 -0.772 0.613 -1.147 0.934a11.43 11.43 0 0 1 -0.323 0.266c-0.371 0.296 -0.704 0.615 -1.033 0.955C13.407 8.204 13.006 8.588 12.523 8.914l-0.163 0.114c-2.519 1.665 -6.155 1.326 -8.983 0.778 -0.568 -0.117 -1.051 -0.278 -1.558 -0.562a49.766 49.766 0 0 0 -0.196 -0.109 17.172 17.172 0 0 1 -0.268 -0.154c-0.144 -0.079 -0.144 -0.079 -0.282 -0.05L0.984 8.969c0.075 -0.239 0.177 -0.352 0.373 -0.506l0.141 -0.114C1.642 8.257 1.746 8.224 1.914 8.203l0.128 0.315c0.242 0.327 0.633 0.448 1.013 0.539l0.137 0.034c1.448 0.352 2.943 0.434 4.429 0.437 0.168 0.001 0.336 0.002 0.505 0.004 0.823 0.004 1.62 -0.045 2.395 -0.349l0.129 -0.049c1.26 -0.498 2.219 -1.268 3.163 -2.224 0.273 -0.276 0.551 -0.534 0.857 -0.775 0.213 -0.169 0.419 -0.346 0.626 -0.523 0.38 -0.324 0.38 -0.324 0.671 -0.328" fill="#F6CBAD"/><path d="m19.578 25.266 0.109 0.055c-0.984 1.19 -2.16 2.049 -3.664 2.461l-0.112 0.032c-1.222 0.342 -2.719 0.328 -3.934 -0.032l-0.118 -0.034C10.932 27.475 9.693 26.969 9.133 26.141q0.207 0.048 0.414 0.096l0.128 0.03a18.156 18.156 0 0 1 0.791 0.206c0.314 0.085 0.626 0.147 0.947 0.198 0.041 0.007 0.082 0.013 0.124 0.02 2.56 0.385 5.837 0.045 8.042 -1.425" fill="#D7F9FD"/><path d="m16.023 0.219 0.123 0.036C17.227 0.587 18.16 1.129 18.977 1.914l0.123 0.117c0.209 0.203 0.383 0.399 0.533 0.649 -0.219 -0.068 -0.424 -0.152 -0.632 -0.25 -1.732 -0.812 -3.626 -1.24 -5.537 -1.234l-0.194 -0.001c-0.707 0.001 -1.394 0.055 -2.09 0.182l-0.199 0.035a11.648 11.648 0 0 0 -1.394 0.348l-0.132 0.041 -0.114 0.037C9.242 1.859 9.242 1.859 9.078 1.805 10.96 0.189 13.603 -0.505 16.023 0.219" fill="#D8F9FD"/><path d="M11.648 13.563c0.807 -0.041 1.427 0.143 2.166 0.471 0.359 0.147 0.716 0.241 1.105 0.243 0.163 0.015 0.216 0.039 0.335 0.155 0.598 0.817 0.738 1.689 0.752 2.672q0.003 0.13 0.006 0.26c0.005 0.21 0.008 0.419 0.011 0.629 -0.271 -0.126 -0.505 -0.257 -0.735 -0.451l-0.154 -0.131L14.984 17.281l-0.134 -0.114c-0.237 -0.205 -0.447 -0.418 -0.65 -0.656 -0.255 -0.296 -0.535 -0.542 -0.842 -0.782l-0.1 -0.078c-0.157 -0.122 -0.314 -0.242 -0.476 -0.358 -0.445 -0.331 -0.445 -0.331 -0.494 -0.637l-0.014 -0.138c-0.065 -0.367 -0.387 -0.682 -0.626 -0.956" fill="#51A2DF"/><path d="M6.125 3.336c-0.182 0.19 -0.368 0.349 -0.581 0.502 -0.287 0.212 -0.551 0.439 -0.813 0.683a8.805 8.805 0 0 1 -0.349 0.305c-0.67 0.587 -1.28 1.307 -1.73 2.076 -0.366 0.617 -0.366 0.617 -0.761 0.727l-0.182 0.039C1.202 7.791 0.786 8.167 0.492 8.586c-0.215 0.379 -0.337 0.781 -0.438 1.203H0c0.026 -1.465 0.637 -2.937 1.586 -4.047l0.112 -0.132C2.741 4.415 4.456 3.246 6.125 3.336" fill="#D8F9FD"/><path d="M3.281 14.711c0.184 0.012 0.367 0.026 0.55 0.041l0.156 0.01c0.382 0.032 0.636 0.106 0.926 0.369C5.251 15.574 5.419 16.124 5.359 16.68c-0.05 0.222 -0.118 0.437 -0.188 0.653l-0.054 0.172c-0.129 0.409 -0.129 0.409 -0.196 0.542 -0.022 0.321 -0.002 0.593 0.164 0.875 0.21 0.235 0.426 0.35 0.711 0.492l-0.273 0.766c-0.949 -1.186 -1.544 -2.542 -1.969 -3.992l-0.063 -0.199C3.359 15.561 3.296 15.158 3.281 14.711" fill="#51A2E0"/><path d="m26.25 22.258 0.109 0.055c-0.762 0.936 -1.718 1.599 -2.844 2.023l-0.172 0.066c-0.876 0.301 -1.808 0.345 -2.726 0.317 0.174 -0.187 0.368 -0.328 0.578 -0.472 0.317 -0.221 0.601 -0.458 0.882 -0.724 0.227 -0.209 0.368 -0.3 0.679 -0.343l0.202 -0.03 0.216 -0.031c0.973 -0.148 1.909 -0.396 2.822 -0.769 0.084 -0.034 0.169 -0.063 0.254 -0.092" fill="#D6F8FC"/><path d="m6.125 4.43 0.191 0.027 0.137 0.027 -0.092 0.033c-0.177 0.106 -0.285 0.256 -0.407 0.418l-0.08 0.104A49.383 49.383 0 0 0 5.633 5.359l-0.072 0.095C4.827 6.421 4.297 7.526 3.828 8.641c-0.436 -0.058 -0.859 -0.136 -1.258 -0.328l-0.055 -0.109a5.031 5.031 0 0 1 0.202 -0.39l0.067 -0.118C3.042 7.254 3.346 6.852 3.664 6.453l0.074 -0.093C4.165 5.824 4.644 5.339 5.141 4.867l0.085 -0.081c0.3 -0.279 0.486 -0.418 0.899 -0.356" fill="#9FD957"/><path d="M2.898 1.477c0.069 0.138 0.06 0.236 0.058 0.39l-0.002 0.151L2.953 2.133l0.114 -0.006 0.149 -0.005 0.148 -0.006C3.5 2.133 3.5 2.133 3.598 2.203c0.109 0.155 0.086 0.294 0.066 0.476 -0.181 0.121 -0.238 0.122 -0.448 0.116l-0.149 -0.003L2.953 2.789l0.006 0.128 0.005 0.166 0.006 0.165L2.953 3.391c-0.19 0.127 -0.269 0.137 -0.492 0.109 -0.103 -0.079 -0.103 -0.079 -0.164 -0.219 -0.013 -0.165 -0.01 -0.327 0 -0.492l-0.114 0.008 -0.149 0.006 -0.148 0.008C1.75 2.789 1.75 2.789 1.65 2.69 1.586 2.57 1.586 2.57 1.593 2.399 1.641 2.242 1.641 2.242 1.805 2.133c0.124 -0.011 0.124 -0.011 0.256 -0.007l0.134 0.003L2.297 2.133l-0.007 -0.205c0 -0.178 0.009 -0.303 0.116 -0.451 0.171 -0.085 0.31 -0.036 0.492 0" fill="#323232"/><path d="M25.539 24.281c0.151 0.161 0.173 0.297 0.174 0.509L25.703 24.992l0.1 -0.008c0.354 -0.016 0.354 -0.016 0.536 0.097C26.414 25.211 26.414 25.211 26.411 25.382 26.359 25.539 26.359 25.539 26.195 25.648c-0.124 0.011 -0.124 0.011 -0.256 0.007l-0.134 -0.003L25.703 25.648l0.007 0.205c-0.003 0.328 -0.003 0.328 -0.116 0.451 -0.188 0.051 -0.188 0.051 -0.383 0.055 -0.094 -0.064 -0.094 -0.064 -0.164 -0.164 -0.016 -0.136 -0.016 -0.136 -0.01 -0.284l0.004 -0.149L25.047 25.648l-0.114 0.006 -0.149 0.004 -0.148 0.006C24.5 25.648 24.5 25.648 24.402 25.578c-0.109 -0.155 -0.086 -0.294 -0.066 -0.476 0.181 -0.121 0.238 -0.122 0.448 -0.116l0.149 0.003L25.047 24.992l-0.006 -0.128 -0.004 -0.166 -0.006 -0.165L25.047 24.391c0.19 -0.127 0.269 -0.142 0.492 -0.109" fill="#323232"/><path d="M0 10.773c0.119 0.119 0.168 0.221 0.239 0.373 0.081 0.167 0.145 0.285 0.27 0.424C0.65 11.773 0.621 11.956 0.602 12.195l-0.009 0.137c-0.029 0.338 -0.029 0.338 -0.155 0.464 -0.447 -1.345 -0.447 -1.345 -0.438 -2.023" fill="#D4F5F9"/><path d="m2.789 12.852 0.383 0.055v1.039c-0.308 -0.308 -0.388 -0.42 -0.39 -0.837 0.002 -0.085 0.004 -0.171 0.007 -0.256" fill="#9AD056"/><path d="M7.492 3.281c-0.062 0.185 -0.117 0.232 -0.263 0.355l-0.114 0.097L7 3.828l-0.113 0.095C6.781 3.992 6.781 3.992 6.604 3.975L6.453 3.938c0.172 -0.188 0.364 -0.32 0.581 -0.451l0.097 -0.06C7.369 3.281 7.369 3.281 7.492 3.281" fill="#2D92D2"/></svg>
                    â€Ž â€Ž â€Ž Volunteer Connect
                    </Link>
                </div>

                <div className="hidden lg:flex items-center space-x-4">
                    
                    <button 
                        onClick={() => handleEventsClick()} 
                        className={desktopLinkStyle}
                    >
                        Events
                    </button>

                    {user && dashboardPath && (
                        <Link to={dashboardPath} className={desktopLinkStyle + " text-indigo-600"}>
                            {user.role === 'volunteer' ? 'Dashboard' : 'Host Panel'}
                        </Link>
                    )}
                    
                    {user ? (
                        <button 
                            onClick={handleLogout} 
                            className="text-sm font-medium text-red-600 hover:text-red-700 ml-4 py-2 px-3 focus:outline-none"
                        >
                            Logout
                        </button>
                    ) : (
                        <div className="flex items-center space-x-2">
                            <Link 
                                to="/login" 
                                className="bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors shadow-sm"
                            >
                                Login
                            </Link>
                            <Link 
                                to="/register" 
                                className="bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-md"
                            >
                                Register
                            </Link>
                        </div>
                    )}
                </div>

                <div className="flex items-center lg:hidden">
                    <button
                        onClick={() => setIsOpen(!isOpen)}
                        className="p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition duration-150"
                        aria-expanded={isOpen}
                    >
                        <span className="sr-only">Open main menu</span>
                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            {isOpen ? (
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                            ) : (
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                            )}
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        {/* Mobile Menu Panel */}
        {isOpen && (
            <div className="lg:hidden bg-white shadow-xl">
                <div className="pt-2 pb-3 space-y-1">
                    
                    {/* ðŸš¨ MOBILE LINK MODIFIED TO CALL HANDLER */}
                    <button 
                        onClick={() => handleEventsClick(true)} 
                        className={mobileLinkStyle + " w-full text-left"}
                    >
                        Events
                    </button>

                    {user && dashboardPath && (
                        <Link to={dashboardPath} onClick={() => setIsOpen(false)} className={mobileLinkStyle + " text-indigo-600 font-bold"}>
                            {user.role === 'volunteer' ? 'Dashboard' : 'Host Panel'}
                        </Link>
                    )}
                    
                    {/* Auth/Logout Buttons (Mobile) */}
                    {!user ? (
                        <div className="flex flex-col space-y-2 p-2 pt-4">
                            <Link 
                                to="/login" 
                                onClick={() => setIsOpen(false)} 
                                className="block w-full text-center bg-gray-100 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors"
                            >
                                Login
                            </Link>
                            <Link 
                                to="/register" 
                                onClick={() => setIsOpen(false)} 
                                className="block w-full text-center bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors"
                            >
                                Register
                            </Link>
                        </div>
                    ) : (
                        <button
                            onClick={handleLogout}
                            className="w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:bg-red-50 transition-colors focus:outline-none"
                        >
                            Logout
                        </button>
                    )}
                </div>
            </div>
        )}
    </nav>
);
};

export default NavBar;